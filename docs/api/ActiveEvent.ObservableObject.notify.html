<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>ActiveJS Reference: ActiveEvent.ObservableObject.notify</title>
      <meta http-equiv="cache-control" content="no-cache">
      <link rel="stylesheet" href="shared.css" type="text/css"><script src="jquery.js" type="text/javascript"></script><script src="api.js" type="text/javascript"></script></head>
   <body><img src="aptana.gif" hspace="21" vspace="3"><h1>ActiveEvent.ObservableObject.notify : <a href="Object.html">Object</a><div style="font-weight:normal;font-size:70%">Return to: <a href="ActiveJS.index.html">ActiveJS index</a></div>
      </h1>
      <div class="content">
         <div class="classDescription"></div><a name="ActiveEvent.ObservableObject.notify.Constructors"></a><h2>Constructors</h2>
         <table cellspacing="2" width="90%">
            <tr class="compheader" visibility="">
               <th style="text-align:left">Constructor</th>
               <th>Action</th>
            </tr>
            <tr class="item ">
               <td class="declaration">
                  <div class="name"><a name="ActiveEvent.ObservableObject.notify."></a><a href="javascript:void(0);" onclick="toggleClickDetails(this)">ActiveEvent.ObservableObject.notify Constructor</a>(<i>Object</i>&nbsp;object, <i>String</i>&nbsp;method_name, <i>String</i>&nbsp;method_name, <i>Function</i>&nbsp;observe, [<i>Function</i>&nbsp;callback,] <i>String</i>&nbsp;event_name, <i>Function</i>&nbsp;observer, [<i>String</i>&nbsp;event_name,] [<i>Function</i>&nbsp;observer,] <i>String</i>&nbsp;event_name, <i>Function</i>&nbsp;observer, <i>String</i>&nbsp;event_name, [<i>mixed</i>&nbsp;args,] <i>Array</i>&nbsp;routes, [<i>Object</i>&nbsp;scope,] [<i>Object</i>&nbsp;options]) : <i>ActiveRoutes|Function|Function|mixed</i></div>
                  <div class="description"></div>
               </td>
               <td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td>
            </tr>
            <tr class="details-method">
               <td valign="top" colspan="2"><a name="ActiveEvent.ObservableObject.notify."></a><h3>ActiveEvent.ObservableObject.notify(<i>Object</i>&nbsp;object, <i>String</i>&nbsp;method_name, <i>String</i>&nbsp;method_name, <i>Function</i>&nbsp;observe, [<i>Function</i>&nbsp;callback,] <i>String</i>&nbsp;event_name, <i>Function</i>&nbsp;observer, [<i>String</i>&nbsp;event_name,] [<i>Function</i>&nbsp;observer,] <i>String</i>&nbsp;event_name, <i>Function</i>&nbsp;observer, <i>String</i>&nbsp;event_name, [<i>mixed</i>&nbsp;args,] <i>Array</i>&nbsp;routes, [<i>Object</i>&nbsp;scope,] [<i>Object</i>&nbsp;options]) : <i>ActiveRoutes|Function|Function|mixed</i></h3>
                  <p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="10%"><i>Object</i></td>
                           <td width="10%"><b>object</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>method_name</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>method_name</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Function</i></td>
                           <td width="10%"><b>observe</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Function</i></td>
                           <td width="10%"><b>callback</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>event_name</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Function</i></td>
                           <td width="10%"><b>observer</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>event_name</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Function</i></td>
                           <td width="10%"><b>observer</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>event_name</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Function</i></td>
                           <td width="10%"><b>observer</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>String</i></td>
                           <td width="10%"><b>event_name</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>mixed</i></td>
                           <td width="10%"><b>args</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Array</i></td>
                           <td width="10%"><b>routes</b></td>
                           <td width="80%"></td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Object</i></td>
                           <td width="10%"><b>scope</b></td>
                           <td width="80%"><b>(optional)</b>defaults to window
                           </td>
                        </tr>
                        <tr>
                           <td width="10%"><i>Object</i></td>
                           <td width="10%"><b>options</b></td>
                           <td width="80%"><b>(optional)</b></td>
                        </tr>
                     </table>
                  </p>
                  <p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table">
                        <tr>
                           <td width="20%"><i>ActiveRoutes</i></td>
                           <td width="80%">options can contain the following keys: - base: default '', the default path / url prefix to be used in a generated url -
                              dispatcher: default ActiveRoutes.prototype.defaultDispatcher, the dispatcher function to be called when dispatch() is called
                              and a route is found - camelizeObjectName: default true, if true, trying to call "blog_controller" through routes will call
                              "BlogController" - camelizeMethodName: default true, if true, trying to call "my_method_name" through routes will call "myMethodName"
                              - camelizeGeneratedMethods: default true, will export generated methods into the scope as "articleUrl" instead of "article_url"
                           </td>
                        </tr>
                        <tr>
                           <td width="20%"><i>Function</i></td>
                           <td width="80%">observer</td>
                        </tr>
                        <tr>
                           <td width="20%"><i>Function</i></td>
                           <td width="80%">The observer that was passed in will be wrapped, this generated / wrapped observer is returned.</td>
                        </tr>
                        <tr>
                           <td width="20%"><i>mixed</i></td>
                           <td width="80%">Array of return values, or false if $break was thrown by an observer.</td>
                        </tr>
                     </table>
                  </p>
                  <dl class="details"></dl>
               </td>
            </tr>
         </table><a name="ActiveEvent.ObservableObject.notify.Examples"></a><h2>Examples</h2>
         <p>
            <p>ActiveEvent allows you to create events, and attach event handlers to any class or object, not just DOM nodes.</p> <h2>Setup</h2>
            <p>Before you can use ActiveEvent you must call extend a given class or object with ActiveEvent's methods. If you extend a
            class, both the class itself will become observable, as well as all of it's instances.</p> <pre class="highlighted"><code
            class="javascript">ActiveEvent.extend(MyClass); //class and all instances are observable ActiveEvent.extend(my_object); //this
            object becomes observable</code></pre> <h2>Creating Events</h2> <p>You can create an event inside any method of your class
            or object by calling the notify() method with name of the event followed by any arguments to be passed to observers. You can
            also have an existing method fire an event with the same name as the method using makeObservable().</p> <pre class="highlighted"><code
            class="javascript">var Message = function() { } ; Message.prototype.send = function(text) { //message sending code here...
            this.notify('sent',text); }; ActiveEvent.extend(Message); //make an existing method observable var observable_hash = new Hash(
            { } ); ActiveEvent.extend(observable_hash); observable_hash.makeObservable('set'); </code></pre> <h2>Observing Events</h2>
            <p>To observe an event call the observe() method with the name of the event you want to observe, and the observer function.
            The observer function will receive any additional arguments passed to notify(). If observing a class, the instance that triggered
            the event will always be the first argument passed to the observer. observeOnce() works just like observe() in every way,
            but is only called once.</p> <pre class="highlighted"><code class="javascript">Message.observe('sent',function(message,text)
            { //responds to all sent messages }); var m = new Message(); m.observe('sent',function(text) { //this will only be called
            when "m" is sent }); observable_hash.observe('set',function(key,value) { console.log('observable_hash.set: ' + key + '=' +
            value); }); observable_hash.observeOnce(function(key,value) { //this will only be called once }); </code></pre> <h2>Control
            Flow</h2> <p>When notify() is called, if any of the registered observers for that event throw the special $break variable,
            no other observers will be called and notify() will return false. Otherwise notify() will return an array of the collected
            return values from any registered observer functions. Observers can be unregistered with the stopObserving() method. If no
            observer is passed, all observers of that object or class with the given event name will be unregistered. If no event name
            and no observer is passed, all observers of that object or class will be unregistered.</p> <pre class="highlighted"><code
            class="javascript">Message.prototype.send = function(text) { if(this.notify('send',text) === false) return false; //message
            sending code here... this.notify('sent',text); return true; }; var m = new Message(); var observer = m.observe('send',function(message,text)
            { if(text == 'test') throw $break; }); m.send('my message'); //returned true m.send('test'); //returned false m.stopObserving('send',observer);
            m.send('test'); //returned true</code></pre> <h2>Object.options</h2> <p>If an object has an options property that contains
            a callable function with the same name as an event triggered with <b>notify()</b>, it will be treated just like an instance
            observer. So the falling code is equivalent.</p> <pre class="highlighted"><code class="javascript">var rating_one = new Control.Rating('rating_one',
            { afterChange: function(new_value) { } }); var rating_two = new Control.Rating('rating_two'); rating_two.observe('afterChange',function(new_value)
            { } );</code></pre> <h2>MethodCallObserver</h2> <p>The makeObservable() method permanently modifies the method that will become
            observable. If you need to temporarily observe a method call without permanently modifying it, use the observeMethod(). Pass
            the name of the method to observe and the observer function will receive all of the arguments passed to the method. An ActiveEvent.MethodCallObserver
            object is returned from the call to observeMethod(), which has a stop() method on it. Once stop() is called, the method is
            returned to it's original state. You can optionally pass another function to observeMethod(), if you do the MethodCallObserver
            will be automatically stopped when that function finishes executing.</p> <pre class="highlighted"><code class="javascript">var
            h = new Hash( { } ); ActiveEvent.extend(h); var observer = h.observeMethod('set',function(key,value) { console.log(key + '='
            + value); }); h.set('a','one'); h.set('a','two'); observer.stop(); //console now contains: //"a = one" //"b = two" //the following
            does the same as above h.observeMethod('set',function(key,value) { console.log(key + '=' + value); },function() { h.set('a','one');
            h.set('b','two'); });</code></pre>
            
            var routes = new ActiveRoutes( [ [ 'article','article/:id', { object : 'article',method:'article',requirements: {id:/\d+/}}],
            [ 'post','/blog/post/:id', { object : 'blog',method: 'post'}], [ '/blog/:method/:id', { object : 'blog'}] //unnamed route
            ] ); var route = routes.match('/blog/post/5'); route == { object : 'blog',method: 'post', id: 5}; routes.dispatch('/blog/post/5');
            //calls Blog.post( { object : 'blog',method: 'post', id: 5}) routes.urlFor( { object : 'blog',method: 'post', id: 5}) == '/blog/post/5';
            //creating the routes object above creates the following methods because there was a named route "post" postUrl( { id : 5})
            == '/blog/post/5' postParams( { id : 5}) == {object: 'blog',method: 'post', id: 5} callPost( { id : 5}) //calls Blog.post({object:
            'blog',method: 'post', id: 5})
            
         </p>
      </div>
      <div style="visibility:hidden;display:none"> aptana_docs</div>
   </body>
</html>